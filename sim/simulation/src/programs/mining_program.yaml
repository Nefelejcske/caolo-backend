lanes:
  - name: "main"
    cards:
      - ty: StringLiteral
        val: "RESOURCE"
      - ty: Call
        val: "Parse Find Constant"
      - ty: Call
        val: "Find Closest"
      - ty: ScalarInt
        val: 0
      - ty: Equals
      - ty: JumpIfFalse
        val:
          LaneName: "resource-error"
      - ty: CopyLast
      - ty: Call
        val: Mine
      - ty: ScalarInt
        val: 0
      - ty: Equals
      - ty: JumpIfTrue
        val:
          LaneName: "mine-success"
      - ty: Call
        val: "Approach Entity"
      - ty: StringLiteral
        val: "Work work..."
      - ty: Call
        val: "Console Log"
      - ty: Pop
      - ty: Call
        val: "Log Scalar"

  # TODO: to check for fullness Cao-Lang must be updated w/ the 'tables' feature first. Then the API needs to provide bot state on demand
  - name: "full"
    cards:
      - ty: StringLiteral
        val: "I'm full baws"
      - ty: Call
        val: "Console Log"
      - ty: ExitWithCode
        val: 1

  - name: "resource-error"
    cards:
      - ty: StringLiteral
        val: "No resource found"
      - ty: Call
        val: "Console Log"
      - ty: ExitWithCode
        val: 1

  - name: "mine-success"
    cards:
      - ty: StringLiteral
        val: "I be mining baws"
      - ty: Call
        val: "Console Log"
      - ty: ExitWithCode
        val: 0
